<!DOCTYPE html>
<html>
<head>
    <title>Child Health Record</title>
    <style>
     body {
         color: black;
         background-color: white;
         font-family: Arial, sans-serif;
         font-size: 18px;
         font-weight: normal;
     }
     img {
         margin-top: 10px;
         max-width: 200px;
         border: 1px solid #ccc;
         border-radius: 8px;
     }
   </style>
   </head>
   <body>
      <h2>Welcome to Child Health Records</h2>
      <p>Please fill in your child's health details in the form below.</p> 

     <form id="Health-form">
        <label>Child Name:</label><br>
        <input type="text" id="ChildName" name="ChildName" required><br>

        <label>DOB:</label><br>
        <input type="text" id="DateOfBirth" name="DOB" required><br>

        <label>Gender:</label>
        <label><input type="radio" name="gender" value="Male"> Male</label>
        <label><input type="radio" name="gender" value="Female"> Female</label>
        <label><input type="radio" name="gender" value="Other"> Other</label><br>

        <label>Height (cm):</label><br>
        <input type="number" name="height" required><br>

        <label>Weight (kg):</label><br>
        <input type="number" name="weight" required><br>

        <label>Vaccination Status:</label><br>
        <select name="vaccinationStatus" required>
          <option value="Up to date">Up to date</option>
          <option value="Not up to date">Not up to date</option>
          <option value="Unknown">Unknown</option>
        </select><br>

        <label>Health Issues:</label><br>
        <textarea name="healthIssues" rows="4"></textarea><br>

        <label>Birthmark Photo:</label><br>
        <input type="file" id="birthmarkPhoto" name="birthmarkPhoto" accept="image/*"><br>

        <button type="submit">Save Offline</button>
     </form>

     <div class="status" id="status"></div>

     <h3>Saved Child Record</h3>
     <pre id="savedRecord"></pre>
     <div id="savedImage"></div>

  <script>
    const form = document.getElementById('Health-form');
    const statusMsg = document.getElementById('status');
    const savedRecord = document.getElementById('savedRecord');
    const savedImage = document.getElementById('savedImage');

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      const formData = new FormData(form);
      const data = {};

      formData.forEach((value, key) => {
        data[key] = value;
      });

      const file = document.getElementById('birthmarkPhoto').files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(event) {
          data.birthmarkPhoto = event.target.result; // Base64 string
          localStorage.setItem('childHealthRecord', JSON.stringify(data));
          showSavedData();
        };
        reader.readAsDataURL(file);
      } else {
        localStorage.setItem('childHealthRecord', JSON.stringify(data));
        showSavedData();
      }

      statusMsg.textContent = 'Saved offline successfully!';
    });

    function showSavedData() {
      const savedData = JSON.parse(localStorage.getItem('childHealthRecord'));
      savedRecord.textContent = JSON.stringify(savedData, null, 2);

      savedImage.innerHTML = "";
      if (savedData.birthmarkPhoto) {
        const img = document.createElement("img");
        img.src = savedData.birthmarkPhoto;
        savedImage.appendChild(img);
      }
    }

    // Load saved data on page load
    window.onload = showSavedData;
  </script>

 </body>
 </html>